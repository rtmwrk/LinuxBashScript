### "[adusrgrp.sh](./adusrgrp.sh)" - автоматизированное создание пользователей и групп для Linux FreeIPA

---

Скрипт автоматизирует создание заданного количества пользователей/групп в домене **Linux FreeIPA**. Предусмотрена также возможность создания вложенных групп, включение пользователей и групп в другие группы.

Скрипт использовался при функциональном тестировании ПО **"Блокхост-Сеть"** на домене Linux FreeIPA в 100_000 групп на 100_001 пользователя.

---

**Создание пользователей/групп производится по правилам:**

1. Создается единый пользователь **_@nameMainTester_**, который добавляется во все создаваемые группы.
2. Создается **_@amountRootGroups_** корневых групп.
3. Создается **_@amountLevelGroups_** вложенных друг в друга групп.
4. Создается пользователь каждой корневой группы каждой вложенной группы.
5. Созданный пользователь и единый тестовый пользователь **_@nameMainTester_** включаются в текущую вложенную группу.
6. Текущая вложенная группа включается во вложенную группу предыдущего уровня.

Фактически создается двумерная матрица групп, в которой корневыми считаются группы с индексами [i,0], где:

- i = 0..**_@amountRootGroups_**,
  а вложенными - все остальные группы [i,j], где:
- j = 1..**_@amountLevelGroups_**.
  При этом вложенная группа [i,j] добавляется во вложенную группу [i,j-1], соответственно вложенная группа [i,1] добавляется в корневую группу [i,0].

**Устанавливаем константы**:

- **_@amountRootGroups_** - количество воздаваемый корневых групп, т.е. групп высшего уровня иерархии вложенности;
- **_@amountLevelGroups_** - количество создаваемых вложенных друг в друга групп;
- **_@nameMainTester_** - имя единого пользователя, который добавляется в каждую создаваемую группу;
- **_@fileReport_** - файл отчета работы скрипта.

---

v. 1.0 2024 г.
